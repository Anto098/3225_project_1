<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
 <head>
  <title>
   Dynamic updating of :first-child and :last-child
  </title>
  <meta content="Ian Hickson" name="author"/>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
  <style type="text/css">
   #two:first-child { background: red; }
   #three:last-child { background: lime; }
  </style>
  <link href="css3-modsel-1.html" rel="first" title="Groups of selectors"/>
  <link href="css3-modsel-d2.html" rel="prev" title="Dynamic handling of combinators"/>
  <link href="./index.html" rel="up"/>
  <link href="../../../index.html" rel="top"/>
 </head>
 <body>
  <table class="testDescription table table-dark">
   <tr>
    <th class="b">
     CSS 3 Module
    </th>
    <!-- XXX hard coded to say CSS 3 -->
    <th class="c" colspan="2">
     <a class="btn btn-primary" href="css3-modsel-d2.html" role="button">
      PREVIOUS
     </a>
    </th>
   </tr>
   <tr>
    <td class="b">
     W3C Selectors
    </td>
    <td class="c" colspan="2">
     Test #172 of 172
    </td>
   </tr>
   <tr>
    <th class="b">
     Testing
    </th>
    <th class="a">
     Date
    </th>
    <th class="a">
     Revision
    </th>
   </tr>
   <tr>
    <td class="b">
     Dynamic updating of :first-child and :last-child (ID #d4)
    </td>
    <td class="a">
     2004-03-03
    </td>
    <td class="a">
     1.1
    </td>
   </tr>
  </table>
  <p class="WARNING">
   NOTE: The UA must support ECMA-262 and DOM Level 2 Core for this test.
  </p>
  <div class="testSource d-flex mx-2  row">
   <div class="testText col border border-dark mx-3">
    <div>
     <script type="text/javascript">
      function test() {
      el2 = document.getElementById('two');
      el3 = document.getElementById('three');
      el2.parentNode.insertBefore(el3.nextSibling, el2);
    }

    window.setTimeout("test()", 100);
     </script>
     <div>
      <p id="two">
       This line should be unstyled. (2)
      </p>
      <p id="three">
       This line should have a green background. (3)
      </p>
      <p>
       This line should be unstyled. (4 moving to 1)
      </p>
     </div>
    </div>
   </div>
   <pre class="rules col border border-dark mx-3">
   #two:first-child { background: red; }
   #three:last-child { background: lime; }
</pre>
   <pre class="rules col border border-dark mx-3">

 &lt;div&gt;

  &lt;script type="text/javascript"&gt;
   

    function test() {
      el2 = document.getElementById('two');
      el3 = document.getElementById('three');
      el2.parentNode.insertBefore(el3.nextSibling, el2);
    }

    window.setTimeout("test()", 100);
   
  &lt;/script&gt;

  &lt;div&gt;&lt;p id="two"&gt;This line should be unstyled. (2)&lt;/p&gt;&lt;p id="three"&gt;This line should have a green background. (3)&lt;/p&gt;&lt;p&gt;This line should be unstyled. (4 moving to 1)&lt;/p&gt;&lt;/div&gt;

 &lt;/div&gt;

</pre>
  </div>
 </body>
</html>